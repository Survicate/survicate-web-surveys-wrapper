!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.Survicate=t():e.Survicate=t()}(self,(()=>(()=>{"use strict";var e,t,n={d:(e,t)=>{for(var i in t)n.o(t,i)&&!n.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r:e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}},i={};n.r(i),n.d(i,{ApiEvent:()=>t,AppearMethod:()=>e,getSurvicateInstance:()=>c,initSurvicate:()=>d}),function(e){e.immediately="immediately",e.delayed="delayed",e.exitIntent="exitIntent",e.scroll="onScroll"}(e||(e={})),function(e){e.questionAnswered="question_answered",e.surveyDisplayed="survey_displayed",e.surveyCompleted="survey_completed",e.surveyClosed="survey_closed"}(t||(t={}));var r=function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function a(e){try{d(i.next(e))}catch(e){o(e)}}function s(e){try{d(i.throw(e))}catch(e){o(e)}}function d(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}d((i=i.apply(e,t||[])).next())}))};class o{constructor(e){this.initialized=this.initScript(e).catch((e=>{console.error("Error loading Survicate script:",e)}))}initScript(e){return new Promise(((t,n)=>{window.addEventListener("SurvicateReady",(()=>{t()}));try{this.loadScript(e,n)}catch(e){n(e)}}))}loadScript(e,t){if(!document.head)return void t(new Error("Unable to append the Survicate script because the document head is not available"));window._sva=window._sva||{},e.traits&&(window._sva.traits=e.traits),e.disableTargeting&&(window._sva.disableTargeting=!0);const n=document.createElement("script");n.type="text/javascript",n.async=!0,n.src=`https://survey.survicate.com/workspaces/${e.workspaceKey}/web_surveys.js`,document.head.appendChild(n)}ready(){return r(this,void 0,void 0,(function*(){return this.initialized}))}showSurvey(e,t){return window._sva.showSurvey(e,t)}getSurvey(){return window._sva.getSurvey()}retarget(){window._sva.retarget()}getVisitorId(){return window._sva.getVisitorId()}setVisitorTraits(e){window._sva.setVisitorTraits(e)}destroyVisitor(e){window._sva.destroyVisitor(e)}addEventListener(e,t){return window._sva.addEventListener(e,t)}removeEventListener(e){window._sva.removeEventListener(e)}invokeEvent(e,t){window._sva.invokeEvent(e,t)}}var a=function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function a(e){try{d(i.next(e))}catch(e){o(e)}}function s(e){try{d(i.throw(e))}catch(e){o(e)}}function d(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}d((i=i.apply(e,t||[])).next())}))};let s=null;const d=e=>a(void 0,void 0,void 0,(function*(){if(!s){const t=new o(e);yield t.ready(),s=t}})),c=()=>(s||console.warn("Survicate was not initialized"),s);return i})()));